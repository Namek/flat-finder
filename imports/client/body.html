<body>
  <script src="https://maps.googleapis.com/maps/api/js?key={{secret "GOOGLE_API_KEY"}}&libraries=places" async defer></script>

  <div class="top-panel">
    <button class="toggle-settings">
      {{#if settingsOpen}}
        Close Settings
      {{else}}
        Open Settings
      {{/if}}
    </button>

    <div class="btns-map">
      Map:

      <button
        class="btn-map-toggle-hearts {{#if isShowingHeartedFlatsOnMap}}enabled{{/if}}"
      ><i class="fa fa-fw fa-heart"></i></button>

      <button
        class="btn-map-toggle-likes {{#if isShowingLikedFlatsOnMap}}enabled{{/if}}"
      ><i class="fa fa-fw fa-thumbs-o-up"></i></button>

      <button
        class="btn-map-toggle-custom-markers {{#if isShowingCustomMarkersOnMap}}enabled{{/if}}"
      ><i class="fa fa-fw fa-map-marker"></i></button>
    </div>
  </div>
  {{#if settingsOpen}}
    <h1>Settings</h1>

    <label>
      <input type="checkbox" class="checkbox-map-on-right" checked="{{isMapOnRight}}">
      Map on right? Otherwise on top
    </label>
  {{else}}
    <hr>
    
    <div class="flats-with-map-container {{#if isMapOnRight}}map-on-right{{/if}}">
      {{> map}}

      <div class="flats-container">
        {{> flats}}
      </div>
    </div>
  {{/if}}
</body>